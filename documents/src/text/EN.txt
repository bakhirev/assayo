ยง main.title: Creates an HTML-report with analysis of commit statistics:
ยง main.features:
the work pace and number of overtime hours;
zones of responsibility, number of features and bugs;
colleagues working style;
the rate of employee turnover and the makeup of the team;
location of developers;
release schedule and vacation calendar;
cost of features and project as a whole;
places for refactoring, deleted files, etc.
ยง main.links: **Links:** [demo](https://bakhirev.github.io/demo/?ref=github&dump=./test.txt), [online version](https://bakhirev.github.io/demo/?ref=github), [docker](https://hub.docker.com/r/bakhirev/assayo), [reddit](https://www.reddit.com/r/ITManagers/comments/1e5k291/the_visualization_and_analysis_of_git_commit/), [habr](https://habr.com/ru/articles/852782/).
ยง main.videos: **Video:** [english](https://www.youtube.com/watch?v=uMbhrrd25t4), [espaรฑol](https://www.youtube.com/watch?v=skmctb_2rZ0), [ััััะบะธะน](https://www.youtube.com/watch?v=jwCp_-bhrCQ).
ยง main.tableOfContents: Table of contents
ยง report.title: COMMIT STATISTICS REPORT
ยง report.create.title: How to create and view the report?
ยง report.create.public.title: Using public server
ยง report.create.public.description:
go to the [website](https://bakhirev.github.io/demo/)
follow the instructions
ยง report.create.js.title: Use the library NodeJS
ยง report.create.js.steps:
run `npx assayo`
open `./assayo/index.html`
ยง report.create.php.title: Use the library PHP
ยง report.create.php.steps:
run `composer require bakhirev/assayo`
run `vendor/bin/assayo`
open `./assayo/index.html`
ยง report.create.python.title: Use the library Python
ยง report.create.python.steps:
run `pipx install assayo`
run `assayo`
open `./assayo/index.html`
ยง report.create.ruby.title: Use the library Ruby
ยง report.create.ruby.steps:
run `gem install assayo`
run `assayo`
open `./assayo/index.html`
ยง report.create.go.title: Use the library Go
ยง report.create.go.steps:
run `go get github.com/bakhirev/assayo`
run `go install github.com/bakhirev/assayo`
run `assayo`
open `./assayo/index.html`
ยง report.create.git.title: Use source code
ยง report.create.git.description1:
download this repository `git clone https://github.com/bakhirev/assayo.git`;
drop the `log.txt` file to the `/build` folder;
run `/build/index.html`;
or drop the `/build` folder to your repository (where the `log.txt` is located). You can change the name. For example, from `/build` to `/report`.
ยง report.create.git.description2:   In this case, it is important that the `log.txt` file is generated by the command for offline viewing.
ยง report.create.github.title: Use github actions
ยง report.create.github.steps: Add [script](https://github.com/bakhirev/assayo/blob/main/documents/ActionExample.yml) in folder `.github/workflows/` or use this [action](https://github.com/marketplace/actions/assayo) from the marketplace. A ready, fresh report will be saved in the artifacts.
ยง report.create.private.title: Use private server
ยง report.create.private.description1:
download the [docker image](https://hub.docker.com/r/bakhirev/assayo);
run it on your local network;
use the web interface to view the reports, set the URL of the data in the URL parameter ```dump```:
ยง report.create.private.log:
http://assayo_url/?dump=//you_url/some/log.txt
assayo_url - URL of the assayo container, it listens on port 80;
you_url    - URL of your container with git logs;
ยง 27: By default, the image will run at ```http://127.0.0.1:80/```. If it doesn't work, check if port 80 is free.
ยง report.create.private.description2: How to concat authors?
ยง report.concat.title: In the root directory of your project, you need to create a `.mailmap` file.
ยง report.concat.example: Example of the contents of the file:
ยง 31:
Alex B <alex@mail.uk>
Alex B <alex@mail.uk> <alex@gov.tk>
Alex B <alex@mail.uk> <bakhirev@ya.kz>
Alex B <alex@mail.uk> <man64@yahoo.com>
ยง report.concat.description: Read more about the format of this file you can [here](https://git-scm.com/docs/gitmailmap).
ยง report.logFile.title: How to export data from git to txt file?
ยง report.logFile.online.title: For online viewing
ยง report.logFile.online.description: In the root directory of your project run:
ยง 36:
git --no-pager log --raw --numstat --oneline --all --reverse --date=iso-strict --pretty=format:"%ad>%aN>%aE>%s" > log.txt
ยง report.logFile.offline.title: For offline viewing
ยง 38:
git --no-pager log --raw --numstat --oneline --all --reverse --date=iso-strict --pretty=format:"%ad>%aN>%aE>%s" | sed -e 's/\\/\\\\/g' | sed -e 's/`/"/g' | sed -e 's/\$/S/g' | sed -e '1s/^/R(f\`/' | sed -e '$s/$/\`\);/' > log.txt
ยง report.logFile.offline.description: Git will create a file `log.txt`. This file contains data for show a report. The difference between the online and offline format is the presence of a wrapper for strings. The offline format will be pulled up like a `js` file if you just opened `/build/index.html `
ยง report.logFile.powerShell.title: If you use PowerShell in Windows
ยง report.logFile.powerShell.description: By default, the output encoding may not match UTF-8 and the resulting log file will be unreadable. Before saving the log, you can change the encoding with the command.
ยง 42: [Console]::OutputEncoding = [System.Text.Encoding]::UTF8
ยง 43: Or open a saved file and manually change the encoding to UTF-8.
ยง 44: How to view a report on a group of microservices?
ยง 45:
generate for each microservice file `log.txt` (`log-1.txt`, `log-2.txt`, `log-3.txt` and etc.) You can do this manually, or use the [Assayo Crawler](https://github.com/bakhirev/assayo-crawler) module for automatic log collection;
see โHow to view an online report?โ. At the last step, drag all the files at once into the browser window.
see โHow to see a report offline?โ. At the second step, drag all microservice files (`log-1.txt`, `log-2.txt`, `log-3.txt` and etc.) to the report folder (`/build`).
ยง 46: THE BEST PRACTICES IN THE PROJECT
ยง 47: How to sign commits?
ยง 48: Follow the [Conventional Commits 1.0.0](https://www.conventionalcommits.org/en/v1.0.0/). Example:
ยง 49:
JIRA-1234 feat(profile): Added avatar for user 
ยง 50:
task number in the task tracker `(JIRA-1234)`
type of work `(feat, fix, style, refactor, test, doc and etc.)`
feature `(profile - new page on site or new function, use one (two) short word or an abbreviation)`
what problem were solved `(Added avatar for user)`
ยง 51: How to add checking for commit message?
ยง 52: Use file `commit-msg`
ยง 53: 1. Create file `commit-msg` in folder `.git/hooks/`
ยง 54: 2. Add this text in file:
ยง 55:
#!/usr/bin/env bash
if ! grep -iqE "(JIRA-[0-9]{1,5})(\s)(feat|fix|docs|style|refactor|test|chore)((\([a-z0-9_-]{1,}\)){0,})(:\s)([a-z]{1,})" "$1"; then
   echo "Need commit message like: JIRA-12 fix(profile): some text. Read Semantic Commit Messages" >&2
   exit 1
fi
ยง 56: Use package [pre-commit](https://www.npmjs.com/package/pre-commit)
ยง 57: 1. Add in file `package.json` property `commit-msg`:
ยง 58:
  ...
  "commit-msg": {
    "regex": "(JIRA-[0-9]{1,5})(\\s)(feat|fix|docs|style|refactor|test|chore)((\\([a-z0-9_-]{1,}\\)){0,})(:\\s)([a-z]{1,})",
    "error-message": "Need commit message like: JIRA-12 fix(profile): some text Read Semantic Commit Messages"
  },
  ...
ยง 59: 2. Run command `npm install pre-commit`
ยง 60: ABOUT THIS APP
ยง 61: How to brand the interface?
ยง 62: You can create your own interface theme. Options:
ยง 63:

**Title**. You can set default document title in the URL parameter ```title```. Example: ```?title=You Company```

**Visual theme**. To do this, you need to prepare a CSS file with new styles and specify its URL in the ```theme``` parameter. Example: ```?theme=//company.com/some.css```. You can use class names as selectors. Most of them do not change in new versions.

**Language**. You can set language in the URL parameter ```lang```. Example: ```?lang=es```
ยง 64: **Example:** [demo](https://bakhirev.github.io/demo/themes/)
ยง 65: How to rebuild the HTML report from source code?
ยง 66:
download this repository `git clone https://github.com/bakhirev/assayo.git`
run `npm install`
run `npm run build:local`
the new HTML build will be in the `/build` folder
ยง 67: How to add or edit a translation?
ยง 68: You can add a new translation or correct an existing one in the ```ts/translations/``` folder.
ยง 69: [Instruction](https://github.com/firstcontributions/first-contributions)
ยง 70: ๏ธArchitecture
ยง 71: The structure of this module
ยง 72:
src
 |- pages
    |- Person // all personal dashboards
    |- Team   // all dashboards about team
 |
 |- helpers
    |- Parser          // parse text from git log to JS objects
    |- DataGrip        // data grouping and counting values
    |- achievement     // the logic that gives out personal achievements
    |- Recommendations // the logic that gives out common recommendations
 |
 |- translations // translations into other languages
ยง 73: General architecture of microservices
ยง 75: 1. [Reports showcase UI](https://github.com/bakhirev/assayo-showcase) displays a list of available reports. Each report consists of a title, description, and a list of repositories.
ยง 76: 2. [Crawler service](https://github.com/bakhirev/assayo-crawler) collects repository logs for the report.
ยง 77: 3. [Log visualization UI](https://github.com/bakhirev/assayo) **(you here)** displays report. Needs a log file for work.
ยง 78: Feedback, comments
ยง 79:
๐ฑ [https://t.me/bakhirev](https://t.me/bakhirev) (priority method of communication)
๐ง [alexey-bakhirev@yandex.ru](mailto:alexey-bakhirev@yandex.ru)
๐ [https://bakhirev.github.io/](https://bakhirev.github.io/?ref=github&lang=en)